<html>
<header>
	<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
</header>
<body>
   <div id='messagesDiv'></div>
    <!--<input type='text' id='nameInput' placeholder='Name'>-->
    <!--<input type='text' id='messageInput' placeholder='Message'>-->
    <script>
      var myDataRef = new Firebase('https://glowing-heat-1885.firebaseio.com/');
//      $('#messageInput').keypress(function (e) {
//        if (e.keyCode == 13) {
//          var name = $('#nameInput').val();
//          var text = $('#messageInput').val();
//          myDataRef.push({name: name, text: text});
//          $('#messageInput').val('');
//        }
//      });
      myDataRef.child('name').on('value', function(snapshot) {
        var message = snapshot.val();
      	displayChatMessage(message);
      });
      function displayChatMessage(name, text) {
      	debugger;
        $('<div/>').text(text).prepend($('<em/>').text(name+': ')).appendTo($('#messagesDiv'));
        $('#messagesDiv')[0].scrollTop = $('#messagesDiv')[0].scrollHeight;
      };
      function createJSON() {
        var teamTotal = 0;
        var teams = '{';
        //iterate through teams doing the following with each iteration
        teams += '"teamName" : "' + teamName + '" ,'
                + '"members": [';
        teamSteps = 0;
        //iterate through team members doing the following with each iteration
        teams += +'"name" : "' + name + '" ,'
                + '"steps" : "' + steps + '" ,';
        teamTotal += steps;
        teams += '],'
                + '"teamTotal": "' + teamTotal + '" ,'
                + '}';
        var jsonObject = JSON.parse(teams);
      }
    </script>
</body>
</html>
